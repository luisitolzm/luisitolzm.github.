<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Generador de ID Pro + ACL</title>

<style>
*{
    margin:0;
    padding:0;
    box-sizing:border-box;
    font-family: Arial, sans-serif;
}

body{
    height:100vh;
    display:flex;
    justify-content:center;
    align-items:center;
    background: linear-gradient(-45deg,#ff0080,#7928ca,#2afadf,#00ff88);
    background-size:400% 400%;
    animation:bg 12s ease infinite;
}

@keyframes bg{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}

.box{
    background:#fff;
    width:370px;
    padding:30px;
    border-radius:15px;
    box-shadow:0 15px 35px rgba(0,0,0,.3);
    text-align:center;
}

h1,h2{
    margin-bottom:15px;
    color:#7928ca;
}

input{
    width:100%;
    padding:12px;
    margin:8px 0;
    border-radius:8px;
    border:1px solid #ccc;
    font-size:15px;
}

button{
    width:100%;
    padding:12px;
    margin-top:10px;
    border:none;
    border-radius:8px;
    background:#7928ca;
    color:#fff;
    font-weight:bold;
    cursor:pointer;
    transition:.3s;
}

button:hover{
    background:#ff0080;
    transform:scale(1.05);
}

.link{
    margin-top:15px;
    color:#0077cc;
    cursor:pointer;
    font-size:14px;
}

.link:hover{
    text-decoration:underline;
}

.error{
    color:red;
    margin-top:10px;
    display:none;
}

.hidden{display:none}

#generatedID{
    font-size:22px;
    margin:15px 0;
    font-weight:bold;
    letter-spacing:2px;
}

.userBox{
    background:#f3f3f3;
    padding:10px;
    border-radius:8px;
    margin-bottom:10px;
    font-size:14px;
}
</style>
</head>

<body>

<!-- LOGIN -->
<div class="box" id="loginBox">
    <h2>Iniciar SesiÃ³n</h2>
    <input id="loginUser" placeholder="Usuario">
    <input id="loginPass" type="password" placeholder="ContraseÃ±a">
    <button onclick="login()">Entrar</button>
    <p class="error" id="loginError">Datos incorrectos</p>
    <div class="link" onclick="showRegister()">Â¿No tienes cuenta? RegÃ­strate</div>
</div>

<!-- REGISTRO -->
<div class="box hidden" id="registerBox">
    <h2>Registro</h2>
    <input id="regUser" placeholder="Nuevo usuario">
    <input id="regPass" type="password" placeholder="Nueva contraseÃ±a">
    <button onclick="register()">Crear cuenta</button>
    <p class="error" id="regError">Completa todos los campos</p>
    <div class="link" onclick="showLogin()">Ya tengo cuenta</div>
</div>

<!-- GENERADOR -->
<div class="box hidden" id="generatorBox">
    <h1>Panel Principal</h1>

    <div class="userBox">
        Usuario: <b id="userName">---</b><br>
        ACL: <b id="aclStatus">SIN ACL</b>
    </div>

    <button onclick="generateID()">Generar ID</button>
    <div id="generatedID">---</div>
    <button onclick="copyID()">Copiar ID</button>

    <hr style="margin:15px 0">

    <input id="aclName" placeholder="Nombre del ACL">
    <button onclick="giveACL()">DAR ACL</button>

    <button onclick="logout()">Cerrar sesiÃ³n</button>
</div>

<script>
// AUTO LOGIN
if(localStorage.getItem("session")==="true"){
    showGenerator()
}

// CAMBIOS
function showRegister(){
    loginBox.classList.add("hidden")
    registerBox.classList.remove("hidden")
}

function showLogin(){
    registerBox.classList.add("hidden")
    loginBox.classList.remove("hidden")
}

function showGenerator(){
    loginBox.classList.add("hidden")
    registerBox.classList.add("hidden")
    generatorBox.classList.remove("hidden")

    const user = localStorage.getItem("user")
    userName.textContent = user

    const acl = localStorage.getItem("acl_"+user)
    aclStatus.textContent = acl ? acl : "SIN ACL"
}

// REGISTRO
function register(){
    const user = regUser.value.trim()
    const pass = regPass.value.trim()

    if(!user || !pass){
        regError.style.display="block"
        return
    }

    localStorage.setItem("user",user)
    localStorage.setItem("pass",pass)
    alert("Cuenta creada correctamente âœ…")
    showLogin()
}

// LOGIN
function login(){
    const user = loginUser.value
    const pass = loginPass.value

    if(user===localStorage.getItem("user") && pass===localStorage.getItem("pass")){
        localStorage.setItem("session","true")
        showGenerator()
    }else{
        loginError.style.display="block"
    }
}

// LOGOUT
function logout(){
    localStorage.removeItem("session")
    location.reload()
}

// GENERADOR ID
function generateID(){
    const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789"
    let id=""
    for(let i=0;i<8;i++){
        id+=chars[Math.floor(Math.random()*chars.length)]
    }
    generatedID.textContent=id
}

function copyID(){
    if(generatedID.textContent==="---"){
        alert("Genera un ID primero")
        return
    }
    navigator.clipboard.writeText(generatedID.textContent)
    alert("ID copiado âœ”")
}

// DAR ACL
function giveACL(){
    const acl = aclName.value.trim()
    const user = localStorage.getItem("user")

    if(!acl){
        alert("Escribe el nombre del ACL")
        return
    }

    localStorage.setItem("acl_"+user,acl)
    aclStatus.textContent = acl
    alert("ACL asignado correctamente ðŸ”")
}
</script>

</body>
</html>
